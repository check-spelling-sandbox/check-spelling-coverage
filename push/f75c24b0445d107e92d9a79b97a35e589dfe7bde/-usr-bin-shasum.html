<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.51
Devel::Cover is copyright 2001-2025, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
https://pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: /usr/bin/shasum</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">/usr/bin/shasum</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">34.8%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">#!/usr/bin/perl</td></tr>
<tr><td class="h">2</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>91657</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;eval &#39;exec /usr/bin/perl -S $0 ${1+&quot;$@&quot;}&#39;</td></tr>
<tr><td class="h">3</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 0; # ^ Run only under a shell</td></tr>
<tr><td class="h">4</td><td></td><td></td><td></td><td></td><td></td><td class="s">#!perl</td></tr>
<tr><td class="h">5</td><td colspan="6"></td></tr><tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## shasum: filter for computing SHA digests (ref. sha1sum/md5sum)</td></tr>
<tr><td class="h">7</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##</td></tr>
<tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Copyright (C) 2003-2023 Mark Shelor, All Rights Reserved</td></tr>
<tr><td class="h">9</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##</td></tr>
<tr><td class="h">10</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Version: 6.04</td></tr>
<tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Sat Feb 25 12:00:50 PM MST 2023</td></tr>
<tr><td class="h">12</td><td colspan="6"></td></tr><tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## shasum SYNOPSIS adapted from GNU Coreutils sha1sum. Add</td></tr>
<tr><td class="h">14</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## &quot;-a&quot; option for algorithm selection,</td></tr>
<tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## &quot;-U&quot; option for Universal Newlines support, and</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## &quot;-0&quot; option for reading bit strings.</td></tr>
<tr><td class="h">17</td><td colspan="6"></td></tr><tr><td class="h">18</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L18">50</a></div></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L18">2</a></div></td><td><div>3234</div></td><td class="s">BEGIN { pop @INC if $INC[-1] eq &#39;.&#39; }</td></tr>
<tr><td class="h">19</td><td colspan="6"></td></tr><tr><td class="h">20</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L20">2</a></div></td><td><div>10</div><div>2</div><div>24</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">21</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L21">2</a></div></td><td><div>4</div><div>2</div><div>72</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">22</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L22">2</a></div></td><td><div>5</div><div>2</div><div>363</div></td><td class="s">use Fcntl;</td></tr>
<tr><td class="h">23</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L23">2</a></div></td><td><div>540</div><div>16709</div><div>5</div></td><td class="s">use Getopt::Long;</td></tr>
<tr><td class="h">24</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L24">2</a></div></td><td><div>642</div><div>3575</div><div>3304</div></td><td class="s">use Digest::SHA qw($errmsg);</td></tr>
<tr><td class="h">25</td><td colspan="6"></td></tr><tr><td class="h">26</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">my $POD = &lt;&lt;&#39;END_OF_POD&#39;;</td></tr>
<tr><td class="h">27</td><td colspan="6"></td></tr><tr><td class="h">28 - 109</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

shasum - Print or Check SHA Checksums

=head1 SYNOPSIS

 Usage: shasum [OPTION]... [FILE]...
 Print or check SHA checksums.
 With no FILE, or when FILE is -, read standard input.

&nbsp;&nbsp;&nbsp;-a, --algorithm&nbsp;&nbsp;&nbsp;1 (default), 224, 256, 384, 512, 512224, 512256
&nbsp;&nbsp;&nbsp;-b, --binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read in binary mode
&nbsp;&nbsp;&nbsp;-c, --check&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read SHA sums from the FILEs and check them
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a BSD-style checksum
&nbsp;&nbsp;&nbsp;-t, --text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read in text mode (default)
&nbsp;&nbsp;&nbsp;-U, --UNIVERSAL&nbsp;&nbsp;&nbsp;read in Universal Newlines mode
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produces same digest on Windows/Unix/Mac
&nbsp;&nbsp;&nbsp;-0, --01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read in BITS mode
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASCII &#39;0&#39; interpreted as 0-bit,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASCII &#39;1&#39; interpreted as 1-bit,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all other characters ignored

 The following five options are useful only when verifying checksums:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--ignore-missing&nbsp;&nbsp;don&#39;t fail or report status for missing files
&nbsp;&nbsp;&nbsp;-q, --quiet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;don&#39;t print OK for each successfully verified file
&nbsp;&nbsp;&nbsp;-s, --status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;don&#39;t output anything, status code shows success
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--strict&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit non-zero for improperly formatted checksum lines
&nbsp;&nbsp;&nbsp;-w, --warn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn about improperly formatted checksum lines

&nbsp;&nbsp;&nbsp;-h, --help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display this help and exit
&nbsp;&nbsp;&nbsp;-v, --version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output version information and exit

 When verifying SHA-512/224 or SHA-512/256 checksums, indicate the
 algorithm explicitly using the -a option, e.g.

&nbsp;&nbsp;&nbsp;shasum -a 512224 -c checksumfile

 The sums are computed as described in FIPS PUB 180-4.&nbsp;&nbsp;When checking,
 the input should be a former output of this program.&nbsp;&nbsp;The default
 mode is to print a line with checksum, a character indicating type
 (`*&#39; for binary, ` &#39; for text, `U&#39; for UNIVERSAL, `^&#39; for BITS),
 and name for each FILE.&nbsp;&nbsp;The line starts with a `\&#39; character if the
 FILE name contains either newlines or backslashes, which are then
 replaced by the two-character sequences `\n&#39; and `\\&#39; respectively.

 Report shasum bugs to mshelor@cpan.org

=head1 DESCRIPTION

Running I&lt;shasum&gt; is often the quickest way to compute SHA message
digests.&nbsp;&nbsp;The user simply feeds data to the script through files or
standard input, and then collects the results from standard output.

The following command shows how to compute digests for typical inputs
such as the NIST test vector &quot;abc&quot;:

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perl -e &quot;print qq(abc)&quot; | shasum

Or, if you want to use SHA-256 instead of the default SHA-1, simply say:

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perl -e &quot;print qq(abc)&quot; | shasum -a 256

Since I&lt;shasum&gt; mimics the behavior of the combined GNU I&lt;sha1sum&gt;,
I&lt;sha224sum&gt;, I&lt;sha256sum&gt;, I&lt;sha384sum&gt;, and I&lt;sha512sum&gt; programs,
you can install this script as a convenient drop-in replacement.

Unlike the GNU programs, I&lt;shasum&gt; encompasses the full SHA standard by
allowing partial-byte inputs.&nbsp;&nbsp;This is accomplished through the BITS
option (I&lt;-0&gt;).&nbsp;&nbsp;The following example computes the SHA-224 digest of
the 7-bit message I&lt;0001100&gt;:

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perl -e &quot;print qq(0001100)&quot; | shasum -0 -a 224

=head1 AUTHOR

Copyright (C) 2003-2023 Mark Shelor &lt;mshelor@cpan.org&gt;.

=head1 SEE ALSO

I&lt;shasum&gt; is implemented using the Perl module L&lt;Digest::SHA&gt;.

=cut</pre></td></tr>
<tr><td class="h">110</td><td colspan="6"></td></tr><tr><td class="h">111</td><td></td><td></td><td></td><td></td><td></td><td class="s">END_OF_POD</td></tr>
<tr><td class="h">112</td><td colspan="6"></td></tr><tr><td class="h">113</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">my $VERSION = &quot;6.04&quot;;</td></tr>
<tr><td class="h">114</td><td colspan="6"></td></tr><tr><td class="h">115</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub usage {</td></tr>
<tr><td class="h">116</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-bin-shasum--subroutine.html#L116">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($err, $msg) = @_;</td></tr>
<tr><td class="h">117</td><td colspan="6"></td></tr><tr><td class="h">118</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L118">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$msg = &quot;&quot; unless defined $msg;</td></tr>
<tr><td class="h">119</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L119">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($err) {</td></tr>
<tr><td class="h">120</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn($msg . &quot;Type shasum -h for help\n&quot;);</td></tr>
<tr><td class="h">121</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit($err);</td></tr>
<tr><td class="h">122</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">123</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my($USAGE) = $POD =~ /SYNOPSIS(.+?)^=/sm;</td></tr>
<tr><td class="h">124</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$USAGE =~ s/^\s*//;</td></tr>
<tr><td class="h">125</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$USAGE =~ s/\s*$//;</td></tr>
<tr><td class="h">126</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$USAGE =~ s/^ //gm;</td></tr>
<tr><td class="h">127</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $USAGE, &quot;\n&quot;;</td></tr>
<tr><td class="h">128</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit($err);</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">130</td><td colspan="6"></td></tr><tr><td class="h">131</td><td colspan="6"></td></tr><tr><td class="h">132</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Sync stdout and stderr by forcing a flush after every write</td></tr>
<tr><td class="h">133</td><td colspan="6"></td></tr><tr><td class="h">134</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">select((select(STDOUT), $| = 1)[0]);</td></tr>
<tr><td class="h">135</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">select((select(STDERR), $| = 1)[0]);</td></tr>
<tr><td class="h">136</td><td colspan="6"></td></tr><tr><td class="h">137</td><td colspan="6"></td></tr><tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Collect options from command line</td></tr>
<tr><td class="h">139</td><td colspan="6"></td></tr><tr><td class="h">140</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">my ($alg, $binary, $check, $text, $status, $quiet, $warn, $help);</td></tr>
<tr><td class="h">141</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">my ($version, $BITS, $UNIVERSAL, $tag, $strict, $ignore_missing);</td></tr>
<tr><td class="h">142</td><td colspan="6"></td></tr><tr><td class="h">143</td><td><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div><div>3</div></td><td class="s">eval { Getopt::Long::Configure (&quot;bundling&quot;) };</td></tr>
<tr><td class="h">144</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L144">50</a></div></td><td></td><td></td><td><div>39</div></td><td class="s">GetOptions(</td></tr>
<tr><td class="h">145</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;b|binary&#39; =&gt; \$binary, &#39;c|check&#39; =&gt; \$check,</td></tr>
<tr><td class="h">146</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;t|text&#39; =&gt; \$text, &#39;a|algorithm=i&#39; =&gt; \$alg,</td></tr>
<tr><td class="h">147</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;s|status&#39; =&gt; \$status, &#39;w|warn&#39; =&gt; \$warn,</td></tr>
<tr><td class="h">148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;q|quiet&#39; =&gt; \$quiet,</td></tr>
<tr><td class="h">149</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;h|help&#39; =&gt; \$help, &#39;v|version&#39; =&gt; \$version,</td></tr>
<tr><td class="h">150</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;0|01&#39; =&gt; \$BITS,</td></tr>
<tr><td class="h">151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;U|UNIVERSAL&#39; =&gt; \$UNIVERSAL,</td></tr>
<tr><td class="h">152</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;tag&#39; =&gt; \$tag,</td></tr>
<tr><td class="h">153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;strict&#39; =&gt; \$strict,</td></tr>
<tr><td class="h">154</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ignore-missing&#39; =&gt; \$ignore_missing,</td></tr>
<tr><td class="h">155</td><td></td><td></td><td></td><td></td><td></td><td class="s">) or usage(1, &quot;&quot;);</td></tr>
<tr><td class="h">156</td><td colspan="6"></td></tr><tr><td class="h">157</td><td colspan="6"></td></tr><tr><td class="h">158</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Deal with help requests and incorrect uses</td></tr>
<tr><td class="h">159</td><td colspan="6"></td></tr><tr><td class="h">160</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L160">50</a></div></td><td></td><td></td><td><div>712</div></td><td class="s">usage(0)</td></tr>
<tr><td class="h">161</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $help;</td></tr>
<tr><td class="h">162</td><td></td><td></td><td></td><td></td><td></td><td class="s">usage(1, &quot;shasum: Ambiguous file mode\n&quot;)</td></tr>
<tr><td class="h">163</td><td><div class="c3">2</div><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L163">50</a></div></td><td></td><td></td><td><div>2</div><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if scalar(grep {defined $_}</td></tr>
<tr><td class="h">164</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($binary, $text, $BITS, $UNIVERSAL)) &gt; 1;</td></tr>
<tr><td class="h">165</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L165">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L165">33</a></div></td><td></td><td><div>3</div></td><td class="s">usage(1, &quot;shasum: --warn option used only when verifying checksums\n&quot;)</td></tr>
<tr><td class="h">166</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $warn &amp;&amp; !$check;</td></tr>
<tr><td class="h">167</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L167">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L167">33</a></div></td><td></td><td><div>4</div></td><td class="s">usage(1, &quot;shasum: --status option used only when verifying checksums\n&quot;)</td></tr>
<tr><td class="h">168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $status &amp;&amp; !$check;</td></tr>
<tr><td class="h">169</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L169">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L169">33</a></div></td><td></td><td><div>1</div></td><td class="s">usage(1, &quot;shasum: --quiet option used only when verifying checksums\n&quot;)</td></tr>
<tr><td class="h">170</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $quiet &amp;&amp; !$check;</td></tr>
<tr><td class="h">171</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L171">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L171">33</a></div></td><td></td><td><div>2</div></td><td class="s">usage(1, &quot;shasum: --ignore-missing option used only when verifying checksums\n&quot;)</td></tr>
<tr><td class="h">172</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $ignore_missing &amp;&amp; !$check;</td></tr>
<tr><td class="h">173</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L173">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L173">33</a></div></td><td></td><td><div>2</div></td><td class="s">usage(1, &quot;shasum: --strict option used only when verifying checksums\n&quot;)</td></tr>
<tr><td class="h">174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $strict &amp;&amp; !$check;</td></tr>
<tr><td class="h">175</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L175">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L175">33</a></div></td><td></td><td><div>2</div></td><td class="s">usage(1, &quot;shasum: --tag does not support --text mode\n&quot;)</td></tr>
<tr><td class="h">176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $tag &amp;&amp; $text;</td></tr>
<tr><td class="h">177</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L177">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L177">33</a></div></td><td></td><td><div>2</div></td><td class="s">usage(1, &quot;shasum: --tag does not support Universal Newlines mode\n&quot;)</td></tr>
<tr><td class="h">178</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $tag &amp;&amp; $UNIVERSAL;</td></tr>
<tr><td class="h">179</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L179">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L179">33</a></div></td><td></td><td><div>2</div></td><td class="s">usage(1, &quot;shasum: --tag does not support BITS mode\n&quot;)</td></tr>
<tr><td class="h">180</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if $tag &amp;&amp; $BITS;</td></tr>
<tr><td class="h">181</td><td colspan="6"></td></tr><tr><td class="h">182</td><td colspan="6"></td></tr><tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Default to SHA-1 unless overridden by command line option</td></tr>
<tr><td class="h">184</td><td colspan="6"></td></tr><tr><td class="h">185</td><td><div class="c3">2</div><div class="c3">14</div></td><td></td><td></td><td></td><td><div>1</div><div>17</div></td><td class="s">my %isAlg = map { $_ =&gt; 1 } (1, 224, 256, 384, 512, 512224, 512256);</td></tr>
<tr><td class="h">186</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="-usr-bin-shasum--branch.html#L186">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">$alg = 1 unless defined $alg;</td></tr>
<tr><td class="h">187</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L187">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">usage(1, &quot;shasum: Unrecognized algorithm\n&quot;) unless $isAlg{$alg};</td></tr>
<tr><td class="h">188</td><td colspan="6"></td></tr><tr><td class="h">189</td><td><div class="c3">2</div><div class="c3">10</div></td><td></td><td></td><td></td><td><div>2</div><div>9</div></td><td class="s">my %Tag = map { $_ =&gt; &quot;SHA$_&quot; } (1, 224, 256, 384, 512);</td></tr>
<tr><td class="h">190</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">$Tag{512224} = &quot;SHA512/224&quot;;</td></tr>
<tr><td class="h">191</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">$Tag{512256} = &quot;SHA512/256&quot;;</td></tr>
<tr><td class="h">192</td><td colspan="6"></td></tr><tr><td class="h">193</td><td colspan="6"></td></tr><tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Display version information if requested</td></tr>
<tr><td class="h">195</td><td colspan="6"></td></tr><tr><td class="h">196</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L196">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">if ($version) {</td></tr>
<tr><td class="h">197</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print &quot;$VERSION\n&quot;;</td></tr>
<tr><td class="h">198</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);</td></tr>
<tr><td class="h">199</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">200</td><td colspan="6"></td></tr><tr><td class="h">201</td><td colspan="6"></td></tr><tr><td class="h">202</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Try to figure out if the OS is DOS-like.&nbsp;&nbsp;If it is,</td></tr>
<tr><td class="h">203</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## default to binary mode when reading files, unless</td></tr>
<tr><td class="h">204</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## explicitly overridden by command line &quot;--text&quot; or</td></tr>
<tr><td class="h">205</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## &quot;--UNIVERSAL&quot; options.</td></tr>
<tr><td class="h">206</td><td colspan="6"></td></tr><tr><td class="h">207</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">my $isDOSish = ($^O =~ /^(MSWin\d\d|os2|dos|mint|cygwin)$/);</td></tr>
<tr><td class="h">208</td><td><div class="c3">2</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L208">0</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L208">50</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L208">0</a></div></td><td></td><td><div>3</div><div>0</div></td><td class="s">if ($isDOSish) { $binary = 1 unless $text || $UNIVERSAL }</td></tr>
<tr><td class="h">209</td><td colspan="6"></td></tr><tr><td class="h">210</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L210">50</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L210">50</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L210">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">my $modesym = $binary ? &#39;*&#39; : ($UNIVERSAL ? &#39;U&#39; : ($BITS ? &#39;^&#39; : &#39; &#39;));</td></tr>
<tr><td class="h">211</td><td colspan="6"></td></tr><tr><td class="h">212</td><td colspan="6"></td></tr><tr><td class="h">213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Read from STDIN (-) if no files listed on command line</td></tr>
<tr><td class="h">214</td><td colspan="6"></td></tr><tr><td class="h">215</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L215">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">@ARGV = (&quot;-&quot;) unless @ARGV;</td></tr>
<tr><td class="h">216</td><td colspan="6"></td></tr><tr><td class="h">217</td><td colspan="6"></td></tr><tr><td class="h">218</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## sumfile($file): computes SHA digest of $file</td></tr>
<tr><td class="h">219</td><td colspan="6"></td></tr><tr><td class="h">220</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub sumfile {</td></tr>
<tr><td class="h">221</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="-usr-bin-shasum--subroutine.html#L221">2</a></div></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $file = shift;</td></tr>
<tr><td class="h">222</td><td colspan="6"></td></tr><tr><td class="h">223</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L223">50</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L223">50</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L223">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $mode = $binary ? &#39;b&#39; : ($UNIVERSAL ? &#39;U&#39; : ($BITS ? &#39;0&#39; : &#39;&#39;));</td></tr>
<tr><td class="h">224</td><td><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td></td><td><div>1</div><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $digest = eval { Digest::SHA-&gt;new($alg)-&gt;addfile($file, $mode) };</td></tr>
<tr><td class="h">225</td><td><div class="c3">2</div><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L225">50</a></div></td><td></td><td></td><td><div>136</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($@) { warn &quot;shasum: $file: $errmsg\n&quot;; return }</td></tr>
<tr><td class="h">226</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$digest-&gt;hexdigest;</td></tr>
<tr><td class="h">227</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">228</td><td colspan="6"></td></tr><tr><td class="h">229</td><td colspan="6"></td></tr><tr><td class="h">230</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## %len2alg: maps hex digest length to SHA algorithm</td></tr>
<tr><td class="h">231</td><td colspan="6"></td></tr><tr><td class="h">232</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">my %len2alg = (40 =&gt; 1, 56 =&gt; 224, 64 =&gt; 256, 96 =&gt; 384, 128 =&gt; 512);</td></tr>
<tr><td class="h">233</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L233">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">$len2alg{56} = 512224 if $alg == 512224;</td></tr>
<tr><td class="h">234</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L234">50</a></div></td><td></td><td></td><td><div>1</div></td><td class="s">$len2alg{64} = 512256 if $alg == 512256;</td></tr>
<tr><td class="h">235</td><td colspan="6"></td></tr><tr><td class="h">236</td><td colspan="6"></td></tr><tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## unescape: convert backslashed filename to plain filename</td></tr>
<tr><td class="h">238</td><td colspan="6"></td></tr><tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub unescape {</td></tr>
<tr><td class="h">240</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-bin-shasum--subroutine.html#L240">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_ = shift;</td></tr>
<tr><td class="h">241</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\\\\/\0/g;</td></tr>
<tr><td class="h">242</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\\n/\n/g;</td></tr>
<tr><td class="h">243</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s/\0/\\/g;</td></tr>
<tr><td class="h">244</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $_;</td></tr>
<tr><td class="h">245</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">246</td><td colspan="6"></td></tr><tr><td class="h">247</td><td colspan="6"></td></tr><tr><td class="h">248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## verify: confirm the digest values in a checksum file</td></tr>
<tr><td class="h">249</td><td colspan="6"></td></tr><tr><td class="h">250</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub verify {</td></tr>
<tr><td class="h">251</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="-usr-bin-shasum--subroutine.html#L251">0</a></div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $checkfile = shift;</td></tr>
<tr><td class="h">252</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($err, $fmt_errs, $read_errs, $match_errs) = (0, 0, 0, 0);</td></tr>
<tr><td class="h">253</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($num_fmt_OK, $num_OK) = (0, 0);</td></tr>
<tr><td class="h">254</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($bslash, $sum, $fname, $rsp, $digest, $isOK);</td></tr>
<tr><td class="h">255</td><td colspan="6"></td></tr><tr><td class="h">256</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local *FH;</td></tr>
<tr><td class="h">257</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L257">0</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L257">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$checkfile eq &#39;-&#39; and open(FH, &#39;&lt; -&#39;)</td></tr>
<tr><td class="h">258</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and $checkfile = &#39;standard input&#39;</td></tr>
<tr><td class="h">259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or sysopen(FH, $checkfile, O_RDONLY)</td></tr>
<tr><td class="h">260</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or die &quot;shasum: $checkfile: $!\n&quot;;</td></tr>
<tr><td class="h">261</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (&lt;FH&gt;) {</td></tr>
<tr><td class="h">262</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L262">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if /^#/;</td></tr>
<tr><td class="h">263</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L263">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (/^[ \t]*\\?SHA/) {</td></tr>
<tr><td class="h">264</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$modesym = &#39;*&#39;;</td></tr>
<tr><td class="h">265</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($bslash, $alg, $fname, $sum) =</td></tr>
<tr><td class="h">266</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^[ \t]*(\\?)SHA(\S+) \((.+)\) = ([\da-fA-F]+)/;</td></tr>
<tr><td class="h">267</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L267">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$alg =~ tr{/}{}d if defined $alg;</td></tr>
<tr><td class="h">268</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">269</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">270</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($bslash, $sum, $modesym, $fname) =</td></tr>
<tr><td class="h">271</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^[ \t]*(\\?)([\da-fA-F]+)[ \t]([ *^U])(.+)/;</td></tr>
<tr><td class="h">272</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L272">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$alg = defined $sum ? $len2alg{length($sum)} : undef;</td></tr>
<tr><td class="h">273</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">274</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L274">0</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L274">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (grep { ! defined $_ } ($alg, $sum, $modesym, $fname) or</td></tr>
<tr><td class="h">275</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! $isAlg{$alg}) {</td></tr>
<tr><td class="h">276</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L276">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: $checkfile: $.: improperly &quot; .</td></tr>
<tr><td class="h">277</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;formatted SHA checksum line\n&quot;) if $warn;</td></tr>
<tr><td class="h">278</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fmt_errs++;</td></tr>
<tr><td class="h">279</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L279">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$err = 1 if $strict;</td></tr>
<tr><td class="h">280</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">281</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">282</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$num_fmt_OK++;</td></tr>
<tr><td class="h">283</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L283">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fname = unescape($fname) if $bslash;</td></tr>
<tr><td class="h">284</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L284">0</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L284">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $ignore_missing &amp;&amp; ! -e $fname;</td></tr>
<tr><td class="h">285</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rsp = &quot;$fname: &quot;;</td></tr>
<tr><td class="h">286</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($binary, $text, $UNIVERSAL, $BITS) =</td></tr>
<tr><td class="h">287</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map { $_ eq $modesym } (&#39;*&#39;, &#39; &#39;, &#39;U&#39;, &#39;^&#39;);</td></tr>
<tr><td class="h">288</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isOK = 0;</td></tr>
<tr><td class="h">289</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L289">0</a></div><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L289">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($digest = sumfile($fname)) {</td></tr>
<tr><td class="h">290</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rsp .= &quot;FAILED open or read\n&quot;;</td></tr>
<tr><td class="h">291</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$err = 1; $read_errs++;</td></tr>
<tr><td class="h">292</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">293</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (lc($sum) eq $digest) {</td></tr>
<tr><td class="h">294</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rsp .= &quot;OK\n&quot;;</td></tr>
<tr><td class="h">295</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isOK = 1;</td></tr>
<tr><td class="h">296</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$num_OK++;</td></tr>
<tr><td class="h">297</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">298</td><td><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else { $rsp .= &quot;FAILED\n&quot;; $err = 1; $match_errs++ }</td></tr>
<tr><td class="h">299</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L299">0</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L299">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $rsp unless ($status || ($quiet &amp;&amp; $isOK));</td></tr>
<tr><td class="h">300</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">301</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(FH);</td></tr>
<tr><td class="h">302</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L302">0</a></div><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L302">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (! $num_fmt_OK) {</td></tr>
<tr><td class="h">303</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: $checkfile: no properly formatted &quot; .</td></tr>
<tr><td class="h">304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;SHA checksum lines found\n&quot;);</td></tr>
<tr><td class="h">305</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$err = 1;</td></tr>
<tr><td class="h">306</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">307</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (! $status) {</td></tr>
<tr><td class="h">308</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L308">0</a></div><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L308">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: WARNING: $fmt_errs line&quot; . ($fmt_errs&gt;1?</td></tr>
<tr><td class="h">309</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;s are&#39;:&#39; is&#39;) . &quot; improperly formatted\n&quot;) if $fmt_errs;</td></tr>
<tr><td class="h">310</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L310">0</a></div><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L310">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: WARNING: $read_errs listed file&quot; .</td></tr>
<tr><td class="h">311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($read_errs&gt;1?&#39;s&#39;:&#39;&#39;) . &quot; could not be read\n&quot;) if $read_errs;</td></tr>
<tr><td class="h">312</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L312">0</a></div><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L312">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: WARNING: $match_errs computed checksum&quot; .</td></tr>
<tr><td class="h">313</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($match_errs&gt;1?&#39;s&#39;:&#39;&#39;) . &quot; did NOT match\n&quot;) if $match_errs;</td></tr>
<tr><td class="h">314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">315</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L315">0</a></div></td><td><div class="c0"><a href="-usr-bin-shasum--condition.html#L315">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($ignore_missing &amp;&amp; ! $num_OK &amp;&amp; $num_fmt_OK) {</td></tr>
<tr><td class="h">316</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L316">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn(&quot;shasum: $checkfile: no file was verified\n&quot;)</td></tr>
<tr><td class="h">317</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $status;</td></tr>
<tr><td class="h">318</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$err = 1;</td></tr>
<tr><td class="h">319</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">320</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return($err == 0);</td></tr>
<tr><td class="h">321</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">322</td><td colspan="6"></td></tr><tr><td class="h">323</td><td colspan="6"></td></tr><tr><td class="h">324</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;## Verify or compute SHA checksums of requested files</td></tr>
<tr><td class="h">325</td><td colspan="6"></td></tr><tr><td class="h">326</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">my($file, $digest);</td></tr>
<tr><td class="h">327</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">my $STATUS = 0;</td></tr>
<tr><td class="h">328</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">for $file (@ARGV) {</td></tr>
<tr><td class="h">329</td><td><div class="c3">2</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="-usr-bin-shasum--branch.html#L329">0</a></div><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L329">50</a></div><div class="c0" title="T/-"><a href="-usr-bin-shasum--branch.html#L329">50</a></div></td><td></td><td></td><td><div>2</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($check) { $STATUS = 1 unless verify($file) }</td></tr>
<tr><td class="h">330</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($digest = sumfile($file)) {</td></tr>
<tr><td class="h">331</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L331">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($file =~ /[\n\\]/) {</td></tr>
<tr><td class="h">332</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$file =~ s/\\/\\\\/g; $file =~ s/\n/\\n/g;</td></tr>
<tr><td class="h">333</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print &quot;\\&quot;;</td></tr>
<tr><td class="h">334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">335</td><td><div class="c3">2</div><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="-usr-bin-shasum--branch.html#L335">50</a></div></td><td></td><td></td><td><div>2</div><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($tag) { print &quot;$digest $modesym$file\n&quot; }</td></tr>
<tr><td class="h">336</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ print &quot;$Tag{$alg} ($file) = $digest\n&quot; }</td></tr>
<tr><td class="h">337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">338</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else { $STATUS = 1 }</td></tr>
<tr><td class="h">339</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">340</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">exit($STATUS);</td></tr>
</table>
</body>
</html>
